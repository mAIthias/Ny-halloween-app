<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>Dödsförutsägelse</title>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
    <style>
        body {
            min-height: 100vh;
            background: url('https://www.transparenttextures.com/patterns/dark-denim-3.png'), #2d2d2d;
            color: #FFFAF0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 28rem; /* max-w-md */
            width: 100%;
            background-color: rgba(53, 53, 53, 0.9); /* mörk bakgrund med lätt transparens */
            border-radius: 0.5rem;
            box-shadow: 0 1rem 1.5rem rgba(0, 0, 0, 0.5);
            padding: 1.5rem;
        }
        h1 {
            font-size: 2.5rem; /* större text */
            font-weight: bold;
            color: #FF6F61; /* ljust orange */
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Creepster', cursive;
        }
        form {
            display: grid;
            grid-gap: 1rem;
        }
        input, select {
            width: 100%;
            padding: 0.5rem;
            border-radius: 0.25rem;
            border: 1px solid #FF6F61;
            background-color: #3e3e3e;
            color: #FFFAF0;
        }
        button {
            padding: 0.5rem;
            border-radius: 0.25rem;
            border: none;
            color: #FFFAF0;
            background-color: #FF6F61; /* Halloween-orange */
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #D64933; /* mörkare orange för hover-effekt */
        }
        .alert {
            margin-top: 1.5rem;
            background-color: rgba(255, 111, 97, 0.9); /* bg-orange-300 med transparens */
            border: 1px solid #D64933;
            padding: 1rem;
            border-radius: 0.25rem;
        }
        .alert-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .bat {
            position: absolute;
            animation: flyAcross 10s linear infinite;
            top: 10%;
            left: 0;
        }
        @keyframes flyAcross {
            0% { transform: translateX(-100vw); }
            100% { transform: translateX(100vw); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>💀 Dödsförutsägelse 👻</h1>
        <form id="predictionForm">
            <input type="text" id="name" placeholder="Namn" required />
            <input type="number" id="age" placeholder="Ålder" required />
            <input type="number" id="footSize" placeholder="Skostorlek" required />
            <select id="handedness" required>
                <option value="">Välj höger/vänsterhänt</option>
                <option value="Högerhänt">Högerhänt</option>
                <option value="Vänsterhänt">Vänsterhänt</option>
            </select>
            <div style="display: flex; gap: 0.5rem;">
                <button type="submit" style="flex: 1;">Förutsäg min död!</button>
                <button type="button" id="resetButton" style="background-color: #D64933; color: #FFFAF0;">🔄</button>
            </div>
        </form>
        <div id="predictionResult" class="alert" style="display: none;">
            <div class="alert-title">Din dödsdag har förutsagts!</div>
            <div class="alert-description">
                <p id="deathDate"></p>
                <p id="activity"></p>
            </div>
        </div>
    </div>
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/31/Bat_icon.svg" class="bat" width="50" alt="fladdermus">

    <script>
        const activities = [
            "äter tacos",
            "löser ett sudoku",
            "tittar på en skräckfilm",
            "planterar en blomma",
            "skriver en bestseller",
            "lär dig jonglera",
            "spelar bingo",
            "bygger ett sandslott",
            "löser Rubiks kub",
            "lär dig trolla",
            "springer ett maraton",
            "bakar en tårta",
            "målar ett självporträtt",
            "skriver en sång",
            "uppfinner en ny sport"
        ];

        // Enkel hashfunktion för att skapa en hash av indata
        function hashCode(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Konvertera till 32-bitars heltal
            }
            return Math.abs(hash);
        }

        function generatePredictionHash(name, age, footSize, handedness) {
            const inputString = `${name}${age}${footSize}${handedness}`;
            return hashCode(inputString);
        }

        function generateRandomDateFromHash(hash) {
            const baseDate = new Date(2020, 0, 1); // Fast basdatum: 1 januari 2020
            const totalDaysToAdd = hash % (80 * 365); // Upp till 80 år framåt
            const futureDate = new Date(baseDate.getTime() + totalDaysToAdd * 24 * 60 * 60 * 1000);
            return futureDate.toLocaleDateString('sv-SE');
        }

        function getActivityFromHash(hash) {
            const index = hash % activities.length;
            return activities[index];
        }

        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const footSize = document.getElementById('footSize').value;
            const handedness = document.getElementById('handedness').value;

            const hash = generatePredictionHash(name, age, footSize, handedness);

            const deathDate = generateRandomDateFromHash(hash);
            const activity = getActivityFromHash(hash);

            document.getElementById('predictionResult').style.display = 'block';
            document.getElementById('deathDate').innerText = `Enligt vår högst vetenskapliga beräkning kommer du att dö den ${deathDate}.`;
            document.getElementById('activity').innerText = `Du kommer att vara mitt uppe i att ${activity} när det händer!`;
        });

        document.getElementById('resetButton').addEventListener('click', function() {
            document.getElementById('name').value = '';
            document.getElementById('age').value = '';
            document.getElementById('footSize').value = '';
            document.getElementById('handedness').value = '';
            document.getElementById('predictionResult').style.display = 'none';
        });
    </script>
</body>
</html>
